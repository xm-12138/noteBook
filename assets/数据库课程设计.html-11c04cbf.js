import{_ as t,r as p,o as c,c as r,a as l,b as n,d as e,e as o}from"./app-146e4e89.js";const d={},i={href:"https://www.notion.so/150884978dd880e98cfdc3de80bf5a75?pvs=21",target:"_blank",rel:"noopener noreferrer"},k={href:"https://www.notion.so/154884978dd880398bbbdb6c0d0ddccc?pvs=21",target:"_blank",rel:"noopener noreferrer"};function u(I,s){const a=p("ExternalLinkIcon");return c(),r("div",null,[s[2]||(s[2]=l(`<h2 id="数据库课程设计" tabindex="-1"><a class="header-anchor" href="#数据库课程设计" aria-hidden="true">#</a> 数据库课程设计</h2><h3 id="项目背景" tabindex="-1"><a class="header-anchor" href="#项目背景" aria-hidden="true">#</a> 项目背景</h3><p>随着互联网技术的发展和人们生活方式的变化，网上订餐已经成为一种越来越受欢迎的服务。它不仅为消费者提供了便利，也帮助餐厅扩大了客户基础并提高了效率。本项目旨在设计和实现一个功能完备的网上订餐系统数据库，以支持这一服务的核心功能。通过这个系统，用户可以浏览菜单、下单、支付；餐厅可以管理菜单、处理订单；而管理员则能进行后台管理，包括用户管理和数据统计等。</p><h2 id="需求分析" tabindex="-1"><a class="header-anchor" href="#需求分析" aria-hidden="true">#</a> 需求分析</h2><h3 id="用户调研" tabindex="-1"><a class="header-anchor" href="#用户调研" aria-hidden="true">#</a> 用户调研</h3><ul><li><strong>目标用户</strong>：主要包括顾客、餐厅管理人员以及系统管理员。</li><li><strong>主要功能需求</strong>： <ul><li><strong>顾客端</strong>：注册/登录、浏览菜单、添加到购物车、提交订单、在线支付、查看订单状态。</li><li><strong>餐厅端</strong>：管理菜单（增加/删除/修改菜品）、接收订单、更新订单状态。</li><li><strong>管理员端</strong>：管理用户账户、订单记录、数据统计与报告。</li></ul></li></ul><h2 id="功能界定" tabindex="-1"><a class="header-anchor" href="#功能界定" aria-hidden="true">#</a> 功能界定</h2><ul><li><strong>用户模块</strong>：提供用户注册、登录和个人资料管理功能。</li><li><strong>菜单模块</strong>：展示菜单列表，允许用户搜索和筛选菜品。</li><li><strong>订单模块</strong>：处理订单创建、查询、支付及状态跟踪。</li><li><strong>餐厅管理模块</strong>：让餐厅能够维护其菜单信息，并处理来自用户的订单。</li><li><strong>后台管理模块</strong>：提供对整个系统的管理工具，如用户管理、数据统计等。</li></ul><h2 id="设计过程" tabindex="-1"><a class="header-anchor" href="#设计过程" aria-hidden="true">#</a> 设计过程</h2><h3 id="概念结构设计" tabindex="-1"><a class="header-anchor" href="#概念结构设计" aria-hidden="true">#</a> 概念结构设计</h3><h3 id="实体-表" tabindex="-1"><a class="header-anchor" href="#实体-表" aria-hidden="true">#</a> 实体（表）</h3><ul><li><strong>Users</strong></li><li><strong>Restaurants</strong></li><li><strong>Menus</strong></li><li><strong>Orders</strong></li><li><strong>OrderItems</strong></li></ul><h3 id="属性-字段" tabindex="-1"><a class="header-anchor" href="#属性-字段" aria-hidden="true">#</a> 属性（字段）</h3><ul><li><strong>Users</strong>: UserID, UserName, Password, Email, Phone</li><li><strong>Restaurants</strong>: RestaurantID, Name, Address, Contact</li><li><strong>Menus</strong>: MenuID, ItemName, Price, Description, RestaurantID</li><li><strong>Orders</strong>: OrderID, UserID, OrderDate, TotalAmount, Status</li><li><strong>OrderItems</strong>: OrderItemID, OrderID, MenuID, Quantity, Subtotal</li></ul><h3 id="关系" tabindex="-1"><a class="header-anchor" href="#关系" aria-hidden="true">#</a> 关系</h3><ul><li>一个用户可以有多个订单 (<code>Users</code> 和 <code>Orders</code> 之间是一对多的关系)。</li><li>一个餐馆可以有多个菜单项 (<code>Restaurants</code> 和 <code>Menus</code> 之间是一对多的关系)。</li><li>每个订单可以包含多个菜单项 (<code>Orders</code> 和 <code>OrderItems</code> 之间是多对多的关系)。</li><li>订单项只能属于一个订单 (<code>OrderItems</code> 和 <code>Orders</code> 之间是多对一的关系)。</li></ul><h3 id="逻辑结构设计" tabindex="-1"><a class="header-anchor" href="#逻辑结构设计" aria-hidden="true">#</a> 逻辑结构设计</h3><h3 id="表定义" tabindex="-1"><a class="header-anchor" href="#表定义" aria-hidden="true">#</a> 表定义</h3><ul><li><strong>Users</strong> (用户): <code>UserID</code> (用户ID), <code>UserName</code> (用户名), <code>Password</code> (密码), <code>Email</code> (电子邮件), <code>Phone</code> (电话)</li><li><strong>Restaurants</strong> (餐厅): <code>RestaurantID</code> (餐厅ID), <code>Name</code> (名称), <code>Address</code> (地址), <code>Contact</code> (联系方式)</li><li><strong>Menus</strong> (菜单): <code>MenuID</code> (菜单项ID), <code>ItemName</code> (菜品名称), <code>Price</code> (价格), <code>Description</code> (描述), <code>RestaurantID</code> (餐厅ID)</li><li><strong>Orders</strong> (订单): <code>OrderID</code> (订单ID), <code>UserID</code> (用户ID), <code>OrderDate</code> (下单日期), <code>TotalAmount</code> (总金额), <code>Status</code> (状态)</li><li><strong>OrderItems</strong> (订单项): <code>OrderItemID</code> (订单项ID), <code>OrderID</code> (订单ID), <code>MenuID</code> (菜单项ID), <code>Quantity</code> (数量), <code>Subtotal</code> (小计)</li></ul><h3 id="主键和外键" tabindex="-1"><a class="header-anchor" href="#主键和外键" aria-hidden="true">#</a> 主键和外键</h3><ul><li><code>Users</code> （用户表）的主键是 <code>UserID</code>（用户ID）。</li><li><code>Restaurants</code>（餐厅表） 的主键是 <code>RestaurantID</code>（餐厅ID）。</li><li><code>Menus</code>（菜单表） 的主键是 <code>MenuID</code>（菜单项ID），外键是 <code>RestaurantID</code>（餐厅ID） 指向 <code>Restaurants</code>（餐厅表） 的 <code>RestaurantID</code>（餐厅ID）。</li><li><code>Orders</code> （订单表）的主键是 <code>OrderID</code>（订单ID），外键是 <code>UserID</code>（用户ID） 指向 <code>Users</code>（用户表） 的 <code>UserID</code>（用户ID）。</li><li><code>OrderItems</code>（订单项表） 的主键是 <code>OrderItemID</code>（订单项ID），外键包括 <code>OrderID</code>（订单ID） 指向 <code>Orders</code>（订单表） 的 <code>OrderID</code>（订单ID） 和 <code>MenuID</code>（菜单ID） 指向 <code>Menus</code>（菜单表） 的 <code>MenuID</code>（菜单ID）。</li><li><code>Payments</code>（支付表） 的主键是 <code>PaymentID</code>（支付ID），外键是 <code>OrderID</code>（订单ID） 指向 <code>Orders</code>（订单表） 的 <code>OrderID</code>（订单ID）。</li></ul><h3 id="物理设计及实施" tabindex="-1"><a class="header-anchor" href="#物理设计及实施" aria-hidden="true">#</a> 物理设计及实施</h3><h3 id="选择dbms" tabindex="-1"><a class="header-anchor" href="#选择dbms" aria-hidden="true">#</a> 选择DBMS</h3><ul><li>MySQL</li></ul><h3 id="创建数据库" tabindex="-1"><a class="header-anchor" href="#创建数据库" aria-hidden="true">#</a> 创建数据库</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment">-- 创建数据库</span>
<span class="token keyword">CREATE</span> <span class="token keyword">DATABASE</span> OnlineFoodOrdering<span class="token punctuation">;</span>
<span class="token keyword">USE</span> OnlineFoodOrdering<span class="token punctuation">;</span>

<span class="token comment">-- 用户表</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> Users <span class="token punctuation">(</span>
    UserID <span class="token keyword">INT</span> <span class="token keyword">AUTO_INCREMENT</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token keyword">COMMENT</span> <span class="token string">&#39;用户ID&#39;</span><span class="token punctuation">,</span>
    UserName <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">&#39;用户名&#39;</span><span class="token punctuation">,</span>
    Password <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">&#39;密码（加密后）&#39;</span><span class="token punctuation">,</span>
    Email <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span> <span class="token keyword">UNIQUE</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">&#39;电子邮件&#39;</span><span class="token punctuation">,</span>
    Phone <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token keyword">COMMENT</span> <span class="token string">&#39;电话号码&#39;</span>
<span class="token punctuation">)</span> <span class="token keyword">COMMENT</span><span class="token operator">=</span><span class="token string">&#39;用户信息表&#39;</span><span class="token punctuation">;</span>

<span class="token comment">-- 餐厅表</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> Restaurants <span class="token punctuation">(</span>
    RestaurantID <span class="token keyword">INT</span> <span class="token keyword">AUTO_INCREMENT</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token keyword">COMMENT</span> <span class="token string">&#39;餐厅ID&#39;</span><span class="token punctuation">,</span>
    Name <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">&#39;餐厅名称&#39;</span><span class="token punctuation">,</span>
    Address <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token keyword">COMMENT</span> <span class="token string">&#39;地址&#39;</span><span class="token punctuation">,</span>
    Contact <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token keyword">COMMENT</span> <span class="token string">&#39;联系方式&#39;</span>
<span class="token punctuation">)</span> <span class="token keyword">COMMENT</span><span class="token operator">=</span><span class="token string">&#39;餐厅信息表&#39;</span><span class="token punctuation">;</span>

<span class="token comment">-- 菜单表</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> Menus <span class="token punctuation">(</span>
    MenuID <span class="token keyword">INT</span> <span class="token keyword">AUTO_INCREMENT</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token keyword">COMMENT</span> <span class="token string">&#39;菜单ID&#39;</span><span class="token punctuation">,</span>
    ItemName <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">&#39;菜品名称&#39;</span><span class="token punctuation">,</span>
    Price <span class="token keyword">DECIMAL</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">&#39;价格&#39;</span><span class="token punctuation">,</span>
    Description <span class="token keyword">TEXT</span> <span class="token keyword">COMMENT</span> <span class="token string">&#39;描述&#39;</span><span class="token punctuation">,</span>
    RestaurantID <span class="token keyword">INT</span> <span class="token keyword">COMMENT</span> <span class="token string">&#39;餐厅ID&#39;</span><span class="token punctuation">,</span>
    <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>RestaurantID<span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> Restaurants<span class="token punctuation">(</span>RestaurantID<span class="token punctuation">)</span> <span class="token keyword">ON</span> <span class="token keyword">DELETE</span> <span class="token keyword">CASCADE</span>
<span class="token punctuation">)</span> <span class="token keyword">COMMENT</span><span class="token operator">=</span><span class="token string">&#39;菜单信息表&#39;</span><span class="token punctuation">;</span>

<span class="token comment">-- 订单表</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> Orders <span class="token punctuation">(</span>
    OrderID <span class="token keyword">INT</span> <span class="token keyword">AUTO_INCREMENT</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token keyword">COMMENT</span> <span class="token string">&#39;订单ID&#39;</span><span class="token punctuation">,</span>
    UserID <span class="token keyword">INT</span> <span class="token keyword">COMMENT</span> <span class="token string">&#39;用户ID&#39;</span><span class="token punctuation">,</span>
    OrderDate <span class="token keyword">DATETIME</span> <span class="token keyword">DEFAULT</span> <span class="token keyword">CURRENT_TIMESTAMP</span> <span class="token keyword">COMMENT</span> <span class="token string">&#39;下单日期&#39;</span><span class="token punctuation">,</span>
    TotalAmount <span class="token keyword">DECIMAL</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">COMMENT</span> <span class="token string">&#39;总金额&#39;</span><span class="token punctuation">,</span>
    <span class="token keyword">Status</span> <span class="token keyword">ENUM</span><span class="token punctuation">(</span><span class="token string">&#39;待处理&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;处理中&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;已完成&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;已取消&#39;</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token string">&#39;待处理&#39;</span> <span class="token keyword">COMMENT</span> <span class="token string">&#39;订单状态&#39;</span><span class="token punctuation">,</span>
    <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>UserID<span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> Users<span class="token punctuation">(</span>UserID<span class="token punctuation">)</span> <span class="token keyword">ON</span> <span class="token keyword">DELETE</span> <span class="token keyword">CASCADE</span>
<span class="token punctuation">)</span> <span class="token keyword">COMMENT</span><span class="token operator">=</span><span class="token string">&#39;订单信息表&#39;</span><span class="token punctuation">;</span>

<span class="token comment">-- 订单项表</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> OrderItems <span class="token punctuation">(</span>
    OrderItemID <span class="token keyword">INT</span> <span class="token keyword">AUTO_INCREMENT</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token keyword">COMMENT</span> <span class="token string">&#39;订单项ID&#39;</span><span class="token punctuation">,</span>
    OrderID <span class="token keyword">INT</span> <span class="token keyword">COMMENT</span> <span class="token string">&#39;订单ID&#39;</span><span class="token punctuation">,</span>
    MenuID <span class="token keyword">INT</span> <span class="token keyword">COMMENT</span> <span class="token string">&#39;菜单ID&#39;</span><span class="token punctuation">,</span>
    Quantity <span class="token keyword">INT</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">&#39;数量&#39;</span><span class="token punctuation">,</span>
    Subtotal <span class="token keyword">DECIMAL</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">COMMENT</span> <span class="token string">&#39;小计金额&#39;</span><span class="token punctuation">,</span>
    <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>OrderID<span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> Orders<span class="token punctuation">(</span>OrderID<span class="token punctuation">)</span> <span class="token keyword">ON</span> <span class="token keyword">DELETE</span> <span class="token keyword">CASCADE</span><span class="token punctuation">,</span>
    <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>MenuID<span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> Menus<span class="token punctuation">(</span>MenuID<span class="token punctuation">)</span> <span class="token keyword">ON</span> <span class="token keyword">DELETE</span> <span class="token keyword">CASCADE</span>
<span class="token punctuation">)</span> <span class="token keyword">COMMENT</span><span class="token operator">=</span><span class="token string">&#39;订单项信息表&#39;</span><span class="token punctuation">;</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="总结反思" tabindex="-1"><a class="header-anchor" href="#总结反思" aria-hidden="true">#</a> 总结反思</h3><ul><li><strong>成果</strong>：成功实现了网上订餐系统的所有核心功能，满足了最初设定的需求。</li><li><strong>收获</strong>：通过这个项目，我们不仅加深了对数据库设计的理解，还学会了如何在实际项目中应用这些知识。同时，团队协作能力得到了提升。</li><li><strong>不足</strong>：在时间管理上遇到了一些挑战，某些阶段的进度比预期慢。此外，对于一些高级功能（如为表添加级联删除）的实现还有待进一步研究。</li><li><strong>影响</strong>：此次项目经验对未来的学习和职业生涯有着积极的影响，尤其是在数据库设计、Web开发和项目管理方面。</li></ul>`,28)),n("p",null,[n("a",i,[s[0]||(s[0]=e("每个表的字段解释",-1)),o(a)])]),n("p",null,[n("a",k,[s[1]||(s[1]=e("数据库字段插入",-1)),o(a)])])])}const E=t(d,[["render",u],["__file","数据库课程设计.html.vue"]]);export{E as default};
